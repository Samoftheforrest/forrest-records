# Forrest Records

## Table of Contents

## UX/UI

### Target audience

The target audience for this site is primarily fans of punk/hardcore music, particularly:
1. People who collect vinyl albums; including rare editions.
2. Bargain hunters looking for a good deal on albums/merchandise.
3. People looking to keep up to date with the latest releases in the music scene.
4. Younger people/students looking for discounts on their favourite music.
5. People looking for both current, as well as vintage/collectable, band merchandise.

### User Stories

#### Site users (break this up into themes, e.g. browsing, checkout, etc)
1. As a user, I want the site's navigation to be simple and intuitive.
2. As a user, I want to be able to be able to checkout without an account.
3. As a user, I want to be able to search for products, to reduce the amount of time it takes to locate a particular product.
4. As a user, I want to be able to sort/filter products based on the following criteria:
    1. Price: low/high (or vice versa)
    2. Alphabetically
    3. Rating: low/high (or vice versa)
    4. Item type: Vinyl, CD, clothing, etc.
    5. Artist
5. As a user, I would like to be able to create an account to save/update my delivery information.
6. As a user, I would like to be directed to an error page that is inkeeping with the sites design/aesthetic if there is any error.
7. As a user, I would like to be able to add products to a 'wishlist' to view them later.
8. As a user, I want clear feedback on what is in my shopping bag, including when it is empty.
9. As a user, I want to be able to easily update my shopping bag, including removing items from it.
10. As a user, I want clear confirmation when an order has been completed.
11. As a user, I want feedback that my order is being processed.
12. As a user, I would like a page that shows a list of all the artists, so I am able to find relevant products easily.
13. As a user, I would like to be able to rate items on the site.
14. As a user, I want to be able to reset my passowrd if I forget it.
15. As a user, I want the ability to easily log out of my account.

#### Site owners
1. As a store owner, I want the ability to add products to the store.
2. As a store owner, I want the ability to edit products easily.
3. As a store owner, I want the ability to delete products from the store.
4. As a store owner, I want the ability to add new artists to the store.
5. As a store owner, I want the ability to edit information about artists.
6. As a store owner, I want the ability to delete artists from the store.
7. As a store owner, I want the ability to add new product types, to allow for future expansion into new markets.
8. As a store owner, I want to see orders that have been placed.
9. As a store owner, I want to be able to edit orders when a customer informs us of any mistakes made.
10. As a store owner, I want to see a list of users to determine how popular the site is.
11. As a store owner, I would like to be able to manage the accounts of users: changing their permissions, deleting accounts, etc.
12. As a store owner, I want to be able to see which products have sold the most units, to guage the popularity of different products.
13. As a store owner, I want a list of email addresses for each user, so that I can create a mailing list of all customers, if permission is given by users.

### Design

#### Visuals
For this project, I used the pre-made ['Red at Night'](https://colorhub.vercel.app/select-palette/enviro) colour palette from [Daniel Cranney](https://twitter.com/danielcranney)'s ['ColorHub'](https://colorhub.vercel.app/). I decided that to use this colour palette as it is largely monochromatic (using black, grey, and white), but also has a striking red; I believe this colour will attract users' attention toward any calls to action on the site.

![Devhub Colour Pallete](/docs/readme//design/color-palette.png)

The colours used were:
- `#EF4444`: This colour was used as the brand colour, used mostly on call to action buttons/links, or anything else that I wanted to focus the user's attention to.
- `#18181B`: This colour was used as the primary colour for text (on a white background), and to give a contrasting background to some sections. Also, an opaque version of this colour is used on image overlays.
- `#D4D4D8`: This colour was used sparingly either as text decoration or borders - I chose this colour as I felt it is fairly subtle/understated.
- `#F8FAFC`: This colour is used as the primary background colour, and text colour on dark backgrounds.

##### Fonts

I used two [Google fonts]() for this project: [DM Sans](https://fonts.google.com/specimen/DM+Sans) for the headings, and [Montserrat](https://fonts.google.com/specimen/Montserrat) for main body text.

#### Wireframes (add page urls to table)

| Page | Desktop | Tablet | Mobile |
| ---- | -------------- | ---- | ------ |
| Landing | [Desktop wireframe](/docs/wireframes/landing-page.png) | [Tablet wireframe](/docs/wireframes/landing-page-tablet.png) | [Mobile wireframe](/docs/wireframes/landing-page-mobile.png) |
| Artists | [Desktop wireframe](/docs/wireframes/artists.png) | [Tablet wireframe](/docs/wireframes/artists-tablet.png) | [Mobile wireframe](/docs/wireframes/artists-mobile.png) |
| Product list | [Desktop wireframe](/docs/wireframes/product-listing.png) | [Tablet wireframe](/docs/wireframes/product-listing-tablet.png) | [Mobile wireframe](/docs/wireframes/product-listing-mobile.png) |
| Product single | [Desktop wireframe](/docs/wireframes/product-single.png) | [Tablet wireframe](/docs/wireframes/product-single-tablet.png) | [Mobile wireframe](/docs/wireframes/product-single-mobile.png) |
| Add/Edit product | [Desktop wireframe](/docs/wireframes/add-edit-product.png) | [Tablet wireframe](/docs/wireframes/add-product-tablet.png) | [Mobile wireframe](/docs/wireframes/add-edit-product-mobile.png) |
| Basket | [Desktop wireframe](/docs/wireframes/basket.png) | [Tablet wireframe](/docs/wireframes/basket-tablet.png) | [Mobile wireframe](/docs/wireframes/basket-mobile.png) |
| Checkout | [Desktop wireframe](/docs/wireframes/checkout.png) | [Tablet wireframe](/docs/wireframes/checkout-tablet.png) | [Mobile wireframe](/docs/wireframes/checkout-mobile.png) |
| Checkout success | [Desktop wireframe](/docs/wireframes/checkout-success.png) | [Tablet wireframe](/docs/wireframes/checkout-success-tablet.png) | [Mobile wireframe](/docs/wireframes/checkout-success-mobile.png) |
| Profile | [Desktop wireframe](/docs/wireframes/profile.png) | [Tablet wireframe](/docs/wireframes/profile-tablet.png) | [Mobile wireframe](/docs/wireframes/profile-mobile.png) |
| Blog list | [Desktop wireframe](/docs/wireframes/blog-listing.png) | [Tablet wireframe](/docs/wireframes/blog-tablet.png) | [Mobile wireframe](/docs/wireframes/blog-mobile.png) |
| Blog single | [Desktop wireframe](/docs/wireframes/blog-single.png) | [Tablet wireframe](/docs/wireframes/blog-single-tablet.png) | [Mobile wireframe](/docs/wireframes/blog-single-mobile.png) |
| Edit blog | [Desktop wireframe](/docs/wireframes/blog-edit.png) | [Tablet wireframe](/docs/wireframes/edit-blog-tablet.png) | [Mobile wireframe](/docs/wireframes/edit-blog-mobile.png) |
| Login/Register | [Desktop wireframe](/docs/wireframes/register.png) | [Tablet wireframe](/docs/wireframes/login-register-tablet.png) | [Mobile wireframe](/docs/wireframes/login-register-mobile.png) |
| Contact | [Desktop wireframe](/docs/wireframes/contact.png) | [Tablet wireframe](/docs/wireframes/contact-tablet.png) | [Mobile wireframe](/docs/wireframes/contact-mobile.png) |
| Error pages (400, 500, etc) | [Desktop wireframe](/docs/wireframes/error-pages.png) | [Tablet wireframe](/docs/wireframes/error-pages-tablet.png) | [Mobile wireframe](/docs/wireframes/error-pages-mobile.png) |

#### Database

##### Physical model

![Database schema](/docs/readme/design/database.png)

##### Models

###### Product

```
class Product(models.Model):
    """
    Model for all products.
    """
    
    name = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    sku = models.CharField(
        max_length=254,
        null=True,
        blank=False)

    description = models.TextField()

    product_type = models.ForeignKey(
        'ProductType',
        default=1,
        null=True,
        blank=True,
        on_delete=models.SET_NULL)

    artist = models.ForeignKey(
        Artist,
        default=1,
        null=True,
        blank=True,
        on_delete=models.SET_NULL)

    price = models.DecimalField(
        max_digits=6,
        decimal_places=2,
        null=False,
        blank=False)

    rating = models.IntegerField(
        null=True,
        blank=True,
        default=0)

    image_url = models.URLField(
        max_length=1024,
        null=True,
        blank=True)

    image = models.ImageField(
        null=True,
        blank=True)

    on_sale = models.BooleanField(
        default=False,
        null=True,
        blank=True)

    product_group = models.ForeignKey(
        'ProductGroup',
        default=1,
        null=True,
        blank=True,
        on_delete=models.SET_NULL)

    def __str__(self):
        return self.name
```

###### ProductType

```
class ProductType(models.Model):
    """
    Model for product types.
    """

    name = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    friendly_name = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    def __str__(self):
        return self.friendly_name

    def get_friendly_name(self):
        """
        Returns friendly version of the product type name for users.
        """
        return self.friendly_name
```

###### ProductGroup

```
class ProductGroup(models.Model):
    """
    Model for product groups.
    """
    
    name = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    friendly_name = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    def __str__(self):
        return self.friendly_name

    def get_friendly_name(self):
        """
        Returns friendly version of the product type name for users.
        """
        return self.friendly_name
```

###### Album - extended from Product model

```
class Album(Product):
    """
    Model for albums - extended from product model.
    """

    record_label = models.CharField(
        max_length=254,
        null=True,
        blank=True)

    release_year = models.CharField(
        max_length=4,
        null=True,
        blank=True)

    genre = models.ForeignKey(
        'Genre',
        default=1,
        null=True,
        blank=True,
        on_delete=models.SET_NULL)

    digital_download = models.BooleanField(
        default=True,
        null=True,
        blank=True)

    digital_download_price = models.DecimalField(
        max_digits=6,
        decimal_places=2,
        null=True,
        blank=True)

    def __str__(self):
        return self.name
```

###### Genre

```
class Genre(models.Model):
    """
    Model for genres.
    """

    name = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    friendly_name = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    def __str__(self):
        return self.friendly_name

    def get_friendly_name(self):
        """
        Returns friendly version of the product type name for users.
        """
        return self.friendly_name
```

###### Song

```
class Song(models.Model):
    """
    Model for songs.
    """

    title = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    album = models.ForeignKey(
        'Album',
        default=1,
        null=True,
        blank=True,
        on_delete=models.SET_NULL)

    artist = models.ForeignKey(
        Artist,
        default=1,
        null=True,
        blank=True,
        on_delete=models.SET_NULL)

    duration = models.CharField(
        max_length=6,
        null=True,
        blank=True)

    track_number = models.IntegerField(
        validators=[
            MaxValueValidator(100),
            MinValueValidator(1)
        ],
        null=False,
        blank=False)

    def __str__(self):
        return self.title
```

###### Merch - extends the Product model

```
class Merch(Product):
    """
    Model for merch - extended from product model.
    """
    class Meta:
        """
        Admin settings for merch model.
        """
        verbose_name_plural = 'Merch'

    has_sizes = models.BooleanField(
        default=True,
        null=False,
        blank=False)

    def __str__(self):
        return self.name
```

###### Blog

```
class Blog(models.Model):
    """
    Model for individual blogs.
    """

    title = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    author = models.ForeignKey(
        UserProfile,
        null=True,
        blank=True,
        on_delete=models.SET_NULL)

    content = RichTextField()

    image_url = models.CharField(
        max_length=254,
        null=False,
        blank=False)

    def __str__(self):
        return self.title
```

###### Blog page
```
class BlogPage(models.Model):
    """
    Model for blog page.
    """
    class Meta:
        """
        Model admin settings.
        """
        verbose_name_plural = 'Blog Page'

    title = models.CharField(
        max_length=16,
        null=False,
        blank=False)

    subtitle = models.CharField(
        max_length=64,
        null=False,
        blank=False)

    featured_blog = models.ForeignKey(
        Blog,
        null=True,
        blank=True,
        on_delete=models.SET_NULL)

    def __str__(self):
        return 'Blog page'
```

###### Artists

```
class Artist(models.Model):
    """
    A class for artist information: name and friendly name. 
    """

    name = models.CharField(
        max_length=254,
        null=False,
        blank=False,
        help_text="This name should be all lowercase, and contain no spaces.")

    friendly_name = models.CharField(
        max_length=254,
        null=False,
        blank=False,
        help_text="This should be the artist name you want users to see.")

    def __str__(self):
        return str(self.friendly_name)
```

###### Users

###### User Profiles

```
class UserProfile(models.Model):
    """
    A user profile model to store delivery information and order history
    """

    user = models.OneToOneField(
        User,
        on_delete=models.CASCADE)

    default_phone_number = models.CharField(
        max_length=20,
        null=True,
        blank=True)

    default_address1 = models.CharField(
        max_length=80,
        null=True,
        blank=True)

    default_address2 = models.CharField(
        max_length=80,
        null=True,
        blank=True)

    default_town_or_city = models.CharField(
        max_length=40,
        null=True,
        blank=True)

    default_county = models.CharField(
        max_length=80,
        null=True,
        blank=True)

    default_postcode = models.CharField(
        max_length=20,
        null=True,
        blank=True)

    default_country = CountryField(
        blank_label='Country',
        null=True,
        blank=True)

    def __str__(self):
        return self.user.username
```

###### Order

###### Order Line Item

###### Home page

```
class Homepage(models.Model):
    """
    Model for the homepage.
    """
    class Meta:
        """
        Admin settings for the homepage.
        """
        verbose_name_plural = 'Home Page'

    title = models.CharField(
        max_length=50,
        null=False,
        blank=False)

    lead_paragraph = models.TextField()

    shop_button = models.CharField(
        max_length=15,
        null=False,
        blank=False)

    blog_button = models.CharField(
        max_length=15,
        null=False,
        blank=False)

    facebook_link = models.CharField(
        max_length=254,
        null=True,
        blank=True)

    instagram_link = models.CharField(
        max_length=254,
        null=True,
        blank=True)

    soundcloud_link = models.CharField(
        max_length=254,
        null=True,
        blank=True)

    bandcamp_link = models.CharField(
        max_length=254,
        null=True,
        blank=True)

    def __str__(self):
        return 'Homepage'
```

###### Contact page

```
class ContactPage(models.Model):
    """
    Model for the contact page.
    """
    class Meta:
        """
        Admin settings for contact page.
        """
        verbose_name_plural = 'Contact Page'

    title = models.CharField(max_length=16, null=False, blank=False)
    subtitle = models.CharField(max_length=16, null=False, blank=False)

    def __str__(self):
        return 'Contact Page'
```

### UX/UI Flowchart

## Features

### Current Features

#### Feature 1: Navigation Bar

![Navigation bar](/docs/readme/features/feature-nav.png)

Allows the user to navigate between the following sections:
- Home
- Shop
- Blog
- Contact
- Login/Register
- Basket

The "Shop", "Login/Register" and "Basket" also have submenus that display on hover:

**Shop submenu**
![Shop menu](/docs/readme/features/feature-nav-menu.png)

**Login submenu**
![Login menu](/docs/readme/features/feature-nav-login.png)

**Basket dropdown**
![Basket dropdown](/docs/readme/features/feature-nav-basket.png)

The basket dropdown also contains:

1. A scroll icon which displays if the dropdown is scrollable.

https://user-images.githubusercontent.com/94783808/190649667-eb4d6353-266e-42ad-bd5e-24b55e01170c.mp4

2. A small quantity icon to show how many items are current in the user's basket.

![Basket quantity](/docs/readme/features/feature-nav-basket-quantity.png)

#### Feature 2: Homepage

![Homepage](/docs/readme/features/homepage.png)

This page displays when the user visits the home directory of the site - meaning that it will be the page that most users see for the first time when visiting. It consists of:
- The navigation bar
- A title
- A lead paragraph
- Two buttons - that lead to the shop and blog

**Social icons**
The social icons, upon the page loading, have a staggered animation in which each item slides up into view - one after another. I achieved this using a SCSS for loop.

```
@for $i from 1 to 5 {
    .homepage-icons a:nth-child(#{$i}) {
        animation-delay: calc(#{$i * 0.25}s);
    }
}
```

It looks like this in the final version of the site:

https://user-images.githubusercontent.com/94783808/190912753-f9f2bdb7-b905-438e-9539-7a35bc4a3a5e.mp4

#### Feature 3: Blog Pages

![Blog page](/docs/readme/features/blog-list.png)

When the user visits the blog area of the site, they are initially directed to the blog listing page - which shows the blogs sorted in order from newest to oldest. Also, from the admin, anyone with the correct permissions can set a 'featured' blog, which will be the first blog to show on this page:

**Featured Blog**
![Featured blog](/docs/readme/features/blog-featured.png)

Once a user clicks the blog of their choice, they are redirected to the page for that individual blog post. This page includes a breadcrumb which allows you to return to the main blog listing page.

**Individual Blog Page**
![Individual blog](/docs/readme/features/blog-single.png)

I also installed an additional pip package - [ckeditor](https://django-ckeditor.readthedocs.io/en/latest/) - to allow any admin who is writing a blog to do so using a rich text field. I decided to take this approach as I found this way ensured that any formatting present in the blog post was present on the page; it also allowed for authors to include relevant links, images, tables, etc.

**Edit Blog (Admin Page)**
![Edit blog](/docs/readme/features/blog-admin.png)

### Features to be Implemented
1. Tours: Add a section to the site which allows user's to search/buy tickets for an artist of their choice's tour.
2. Membership: Add a means for users to sign up for a paid membership, which gives them access to perks such as pre-release sales and free shipping.
3. Featured item on homepage: Add a section to the homepage in which admins can set a featured artist/product/blog.
4. Double albums: Add a double album product type that is similar to an album, but has room for two tracklists.

## Technologies Used

### Languages
- [HTML](https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/HTML_basics)
- [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS)
- [JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
- [Python](https://www.python.org/)

### Libraries + Frameworks
- [Django](https://www.djangoproject.com/)
- [SASS/SCSS](https://sass-lang.com/)
- [Bootstrap](https://getbootstrap.com/)
- [jQuery](https://jquery.com/)
- [SQL](https://www.w3schools.com/sql/)

### Design
- [Figma](https://www.figma.com/)
- [Font Awesome](https://fontawesome.com/)
- [Google Fonts](https://fonts.google.com/)

### Other tools
- [TinyPNG](https://tinypng.com/)

## Testing

Tests can be found [here](/docs/readme/testing.md) in a separate file.

## Bugs

Bugs for this project can be found within the project's 'Issues' tab - for ease, I have added links to each bug's issue log below.

| No. | Bug | Link | Completed |
| ---- | -------------- | ---- | :----: |
| #1 | Basket dropdown scroll icon added on every hover, but not removed | [Link to issue #1](https://github.com/Samoftheforrest/forrest-records/issues/1) | :white_check_mark: |
| #2 | Blog listing page errors when no featured blog is selected  | [Link to issue #2](https://github.com/Samoftheforrest/forrest-records/issues/2) | :white_check_mark: |
| #3 | Album track listing not sorting by track number | [Link to issue #3](https://github.com/Samoftheforrest/forrest-records/issues/3) | :white_check_mark: |
| #4 |  Album info table not ordering items properly when there are 10 or more items  | [Link to issue #4](https://github.com/Samoftheforrest/forrest-records/issues/4) | :white_check_mark: |
| #5 | Title  | [Link to issue #5]() |  |

## Deployment

### Local Development

### Deployment
 
## Credits

### Code
- [Elf Sternberg](https://stackoverflow.com/a/4151742) for the code to regroup the artists queryset used on the /artists page.
- [Code Artisan Lab](https://www.youtube.com/watch?v=fqIBA2Vpws0&ab_channel=CodeArtisanLab) for the code to set up the related items list on product pages
- [Laffuste & Phoenix](https://stackoverflow.com/a/16909142) for the syntax to iterate through RelatedManager objects.
- [Wouter J](https://stackoverflow.com/a/15146850) showed me how to use for loops in SCSS, which allowed me to add the homepage social icons animation in simply.
- [Frost.baka](https://stackoverflow.com/a/4144088), for the code to stop admin adding another model in the admin area for the homepage.
- [Geeks For Geeks](https://www.geeksforgeeks.org/richtextfield-django-models/), for showing me how to add a rich text field to the Django admin area.
- [MaximeK](https://stackoverflow.com/a/44658616), for showing me how to extend Django models - which I used to extend the Product model into the Album/Merch models.

### Media
- Thanks to [Unsplash](https://www.unsplash.com) for all the product images.
- Thanks to [Freepik](https://www.freepik.com/) for the vinyl [favicon](https://www.flaticon.com/free-icons/vinyl")
- Thanks to [Natalie Parham](https://unsplash.com/@natalieparham) for the [homepage image](https://unsplash.com/photos/fPKqpUbTL4Y?utm_source=unsplash&utm_medium=referral&utm_content=creditShareLink)

### General Thanks
- I would like the thank the tech Twitter community for helping me brainstorm artist names for testing.
- I would like to thank my parter, Laura Gilbert, for helping me test the site from a user's perspective.
- I would like to thank my mentor [Simen](https://github.com/Eventyret) for all of his feedback and support with this project.
